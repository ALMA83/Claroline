{
    "name": "claroline/claroline",
    "description": "Claroline Connect",
    "license": "GPL-3.0+",
    "require": {
        "php": ">=5.5",
        "claroline/activity-tool-bundle": "~6.0",
        "claroline/agenda-bundle": "~6.0",
        "claroline/announcement-bundle": "~6.0",
        "claroline/bundle-recorder": "dev-master as 6.1",
        "claroline/core-bundle": "dev-master as 6.7.4",
        "claroline/cursus-bundle": "~6.0",
        "claroline/forum-bundle": "~6.0",
        "claroline/image-player-bundle": "~6.0",
        "claroline/message-bundle": "~6.0",
        "claroline/pdf-player-bundle": "~6.0",
        "claroline/rss-reader-bundle": "~6.0",
        "claroline/scorm-bundle": "~6.0",
        "claroline/survey-bundle": "~6.0",
        "claroline/team-bundle": "~6.0",
        "claroline/video-player-bundle": "~6.0",
        "claroline/web-installer": "~6.0",
        "claroline/web-resource-bundle": "~6.0",
        "formalibre/presence-bundle": "~6.0",
        "formalibre/reservation-bundle": "~6.0",
        "formalibre/support-bundle": "~6.0",
        "hevinci/competency-bundle": "~6.0",
        "hevinci/favourite-bundle": "~6.0",
        "hevinci/url-bundle": "~6.0",
        "icap/badge-bundle": "~6.0",
        "icap/blog-bundle": "~6.0",
        "icap/dropzone-bundle": "~6.0",
        "icap/lesson-bundle": "~6.0",
        "icap/portfolio-bundle": "~6.0",
        "icap/socialmedia-bundle": "~6.0",
        "icap/website-bundle": "~6.0",
        "icap/wiki-bundle": "~6.0",
        "innova/path-bundle": "~6.0",
        "ujm/exo-bundle": "~6.0"
    },
    "require-dev": {
        "symfony/phpunit-bridge": "*",
        "claroline/dev-bundle": "master"
    },
    "scripts": {
    	  "fast-install" :
            "composer run configure",
            "php app/console doctrine:database:create",
            "php bin/doctrine dbal:import claroline.sql -vvv",
            "php app/console assets:install web --symlink"
	      ],
        "sync": [
            "composer fetch",
            "composer configure",
            "composer build",
            "php app/console claroline:update --env=prod",
            "composer disable-maintenance"
        ],
        "sync-dev": [
            "composer fetch-dev",
            "composer configure",
            "composer build",
            "php app/console claroline:update",
            "composer disable-maintenance"
        ],
        "fetch": [
            "composer install --prefer-dist --no-dev",
            "composer fetch-post"
        ],
        "fetch-dev": [
            "composer install --prefer-source",
            "composer fetch-post"
        ],
        "fetch-post": [
            "composer check",
            "npm install",
            "npm run bower"
        ],
        "check": [
            "Claroline\\CoreBundle\\Library\\Installation\\ScriptHandler::checkEnvironment"
        ],
        "configure": [
            "Incenteev\\ParameterHandler\\ScriptHandler::buildParameters"
        ],
        "disable-maintenance": [
            "Claroline\\CoreBundle\\Library\\Maintenance\\MaintenanceHandler::disableMaintenance"
        ],
        "build": [
            "composer bundles",
            "Claroline\\CoreBundle\\Library\\Installation\\Refresher::deleteCache",
            "Sensio\\Bundle\\DistributionBundle\\Composer\\ScriptHandler::buildBootstrap",
            "Sensio\\Bundle\\DistributionBundle\\Composer\\ScriptHandler::installAssets",
            "npm run themes",
            "npm run webpack"
        ],
        "watch": [
            "npm run watch"
        ],
        "bundles": [
            "Claroline\\BundleRecorder\\ScriptHandler::buildBundleFile"
        ],
        "pre-install-cmd": [
            "php pre-update.php"
        ],
        "post-install-cmd": [
            "composer bundles"
        ],
        "pre-update-cmd": [
            "php pre-update.php",
            "Claroline\\CoreBundle\\Library\\Maintenance\\MaintenanceHandler::enableMaintenance"
        ],
        "post-update-cmd": [
            "composer bundles"
        ]
    },
    "minimum-stability": "dev",
    "prefer-stable": true,
    "config": {
        "bin-dir": "bin",
        "github-protocols": ["https", "git", "ssh"],
        "optimize-autoloader": true,
        "process-timeout": 3600
    },
    "extra": {
        "symfony-app-dir": "app",
        "symfony-web-dir": "web",
        "symfony-assets-install": "symlink",
        "incenteev-parameters": {
            "env-map": {
                "database_name": "CLAROLINE_DATABASE_NAME",
                "database_user": "CLAROLINE_DATABASE_USER",
                "database_password": "CLAROLINE_DATABASE_PASSWORD"
            },
            "file": "app/config/parameters.yml",
            "interactive-keys": [
                "database_host",
                "database_port",
                "database_name",
                "database_user",
                "database_password",
                "secret"
            ]
        }
    }
}
